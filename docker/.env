# ============================================
# 核心配置（环境变量优先级 > config.yaml）
# ============================================

# 是否启用爬虫 (true/false)
ENABLE_CRAWLER=
# 是否启用通知 (true/false)
ENABLE_NOTIFICATION=
# 报告模式(daily|incremental|current)
REPORT_MODE=
# 排序优先级 (true=先按配置位置排序，false=先按热点条数排序)
SORT_BY_POSITION_FIRST=
# 每个关键词最大显示数量 (0=不限制，>0=限制数量)
MAX_NEWS_PER_KEYWORD=
# 内容顺序：false=热点词汇统计在前，true=新增热点新闻在前
REVERSE_CONTENT_ORDER=

# ============================================
# Web 服务器配置
# ============================================

# 是否自动启动 Web 服务器托管 output 目录 (true/false)
# 启用后可通过 http://localhost:{WEBSERVER_PORT} 访问生成的报告
# 手动控制：docker exec -it trend-radar python manage.py start_webserver
ENABLE_WEBSERVER=false

# Web 服务器端口（默认 8080，可自定义避免冲突）
# 注意：修改后需要重启容器生效
WEBSERVER_PORT=8080

# ============================================
# 推送时间窗口配置
# ============================================

# 是否启用推送时间窗口 (true/false)
PUSH_WINDOW_ENABLED=
# 推送开始时间 (HH:MM 格式，如 08:00)
PUSH_WINDOW_START=
# 推送结束时间 (HH:MM 格式，如 22:00)
PUSH_WINDOW_END=
# 每天只推送一次 (true/false)
PUSH_WINDOW_ONCE_PER_DAY=

# ============================================
# 多账号配置
# ============================================

# 每个渠道最大账号数量（建议不超过 3，避免fork用户触发账号风险）
MAX_ACCOUNTS_PER_CHANNEL=

# ============================================
# 通知渠道配置（多账号用 ; 分隔）
# ============================================

# 飞书机器人 webhook URL（多账号用 ; 分隔）
FEISHU_WEBHOOK_URL=
# Telegram Bot Token（多账号用 ; 分隔，需与 chat_id 数量一致）
TELEGRAM_BOT_TOKEN=
# Telegram Chat ID（多账号用 ; 分隔，需与 bot_token 数量一致）
TELEGRAM_CHAT_ID=
# 钉钉机器人 webhook URL（多账号用 ; 分隔）
DINGTALK_WEBHOOK_URL=
# 企业微信机器人 webhook URL（多账号用 ; 分隔）
WEWORK_WEBHOOK_URL=
# 企业微信消息类型（markdown 或 text）
WEWORK_MSG_TYPE=

# 邮件配置（邮箱已支持多收件人，逗号分隔）
EMAIL_FROM=
EMAIL_PASSWORD=
EMAIL_TO=
EMAIL_SMTP_SERVER=
EMAIL_SMTP_PORT=

# ntfy 推送配置（多账号用 ; 分隔，topic 和 token 数量需一致）
NTFY_SERVER_URL=https://ntfy.sh
# ntfy主题名称（多账号用 ; 分隔）
NTFY_TOPIC=
# 可选：访问令牌(用于私有主题，多账号用 ; 分隔，无令牌的留空占位如 ";token2")
NTFY_TOKEN=

# Bark 推送配置（多账号用 ; 分隔）
BARK_URL=

# Slack 推送配置（多账号用 ; 分隔）
SLACK_WEBHOOK_URL=

# ============================================
# 存储配置
# ============================================

# 存储后端选择 (local/remote/auto)
# - local: 本地 SQLite + TXT/HTML 文件
# - remote: 远程云存储（S3 兼容协议）
# - auto: 自动选择（GitHub Actions 用 remote，其他用 local）
STORAGE_BACKEND=auto

# 本地数据保留天数（0 = 无限制，不清理历史数据）
LOCAL_RETENTION_DAYS=0

# 远程数据保留天数（0 = 无限制，不清理历史数据）
REMOTE_RETENTION_DAYS=0

# 是否生成 TXT 快照 (true/false)
STORAGE_TXT_ENABLED=

# 是否生成 HTML 报告 (true/false)
STORAGE_HTML_ENABLED=

# 远程存储配置（S3 兼容协议，支持 R2/OSS/COS/S3 等）
S3_ENDPOINT_URL=
S3_BUCKET_NAME=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_REGION=

# 数据拉取配置（从远程同步到本地）
PULL_ENABLED=false
PULL_DAYS=7

# ============================================
# 运行配置
# ============================================

# 定时任务表达式，每 30 分钟执行一次(比如 8点，8点半，9点，9点半这种时间规律执行)
CRON_SCHEDULE=*/30 * * * *
# 运行模式：cron/once
RUN_MODE=cron
# 启动时立即执行一次
IMMEDIATE_RUN=true